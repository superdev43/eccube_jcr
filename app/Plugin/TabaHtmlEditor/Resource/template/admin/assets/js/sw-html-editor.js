!function(e){var t={};function o(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=1)}([,function(e,t,o){"use strict";o.r(t);o(2),o(3),o(4),o(5),o(6),o(7),o(8);$((function(){$.trumbowyg.svgPath=!1,$.trumbowyg.hideButtonTexts=!0,$.extend($.trumbowyg.langs.ja,{fontsize:"文字サイズ",fontsizes:{"x-small":"一番小さい",small:"小さい",medium:"標準",large:"大きい","x-large":"一番大きい",custom:"指定する"},fontCustomSize:{title:"文字サイズ",label:"文字サイズ",value:"20px"},noembed:"動画挿入",tableDeleteRow:"行の削除",tableDeleteColumn:"列の削除",tableDestroy:"テーブルの削除"}),$.trumbowyg.defaultOptions.imageWidthModalEdit=!0,$.trumbowyg.defaultOptions.btns=[["viewHTML"],["undo","redo"],["formatting"],["strong","em","del"],["superscript","subscript"],["foreColor","backColor"],["fontsize"],["link"],["insertImage","swfilemanager"],["justifyLeft","justifyCenter","justifyRight","justifyFull"],["unorderedList","orderedList"],["horizontalRule"],["table"],["removeformat"],["fullscreen"]]}))},function(e,t){function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}
/**
 * Trumbowyg v2.21.0 - A lightweight WYSIWYG editor
 * Trumbowyg core file
 * ------------------------
 * @link http://alex-d.github.io/Trumbowyg
 * @license MIT
 * @author Alexandre Demode (Alex-D)
 *         Twitter : @AlexandreDemode
 *         Website : alex-d.fr
 */jQuery.trumbowyg={langs:{en:{viewHTML:"View HTML",undo:"Undo",redo:"Redo",formatting:"Formatting",p:"Paragraph",blockquote:"Quote",code:"Code",header:"Header",bold:"Bold",italic:"Italic",strikethrough:"Strikethrough",underline:"Underline",strong:"Strong",em:"Emphasis",del:"Deleted",superscript:"Superscript",subscript:"Subscript",unorderedList:"Unordered list",orderedList:"Ordered list",insertImage:"Insert Image",link:"Link",createLink:"Insert link",unlink:"Remove link",justifyLeft:"Align Left",justifyCenter:"Align Center",justifyRight:"Align Right",justifyFull:"Align Justify",horizontalRule:"Insert horizontal rule",removeformat:"Remove format",fullscreen:"Fullscreen",close:"Close",submit:"Confirm",reset:"Cancel",required:"Required",description:"Description",title:"Title",text:"Text",target:"Target",width:"Width"}},plugins:{},svgPath:null,hideButtonTexts:null},Object.defineProperty(jQuery.trumbowyg,"defaultOptions",{value:{lang:"en",fixedBtnPane:!1,fixedFullWidth:!1,autogrow:!1,autogrowOnEnter:!1,imageWidthModalEdit:!1,prefix:"trumbowyg-",semantic:!0,semanticKeepAttributes:!1,resetCss:!1,removeformatPasted:!1,tabToIndent:!1,tagsToRemove:[],tagsToKeep:["hr","img","embed","iframe","input"],btns:[["viewHTML"],["undo","redo"],["formatting"],["strong","em","del"],["superscript","subscript"],["link"],["insertImage"],["justifyLeft","justifyCenter","justifyRight","justifyFull"],["unorderedList","orderedList"],["horizontalRule"],["removeformat"],["fullscreen"]],btnsDef:{},changeActiveDropdownIcon:!1,inlineElementsSelector:"a,abbr,acronym,b,caption,cite,code,col,dfn,dir,dt,dd,em,font,hr,i,kbd,li,q,span,strikeout,strong,sub,sup,u",pasteHandlers:[],plugins:{},urlProtocol:!1,minimalLinks:!1,defaultLinkTarget:void 0},writable:!1,enumerable:!0,configurable:!1}),function(e,t,n,a){"use strict";a.fn.trumbowyg=function(e,t){if(e===Object(e)||!e)return this.each((function(){a(this).data("trumbowyg")||a(this).data("trumbowyg",new r(this,e))}));if(1===this.length)try{var o=a(this).data("trumbowyg");switch(e){case"execCmd":return o.execCmd(t.cmd,t.param,t.forceCss,t.skipTrumbowyg);case"openModal":return o.openModal(t.title,t.content);case"closeModal":return o.closeModal();case"openModalInsert":return o.openModalInsert(t.title,t.fields,t.callback);case"saveRange":return o.saveRange();case"getRange":return o.range;case"getRangeText":return o.getRangeText();case"restoreRange":return o.restoreRange();case"enable":return o.setDisabled(!1);case"disable":return o.setDisabled(!0);case"toggle":return o.toggle();case"destroy":return o.destroy();case"empty":return o.empty();case"html":return o.html(t)}}catch(e){}return!1};var r=function(o,r){var l=this,i=a.trumbowyg;l.doc=o.ownerDocument||n,l.$ta=a(o),l.$c=a(o),null!=(r=r||{}).lang||null!=i.langs[r.lang]?l.lang=a.extend(!0,{},i.langs.en,i.langs[r.lang]):l.lang=i.langs.en,l.hideButtonTexts=null!=i.hideButtonTexts?i.hideButtonTexts:r.hideButtonTexts;var s=null!=i.svgPath?i.svgPath:r.svgPath;if(l.hasSvg=!1!==s,l.svgPath=l.doc.querySelector("base")?t.location.href.split("#")[0]:"",0===a("#trumbowyg-icons",l.doc).length&&!1!==s){if(null==s){for(var d=n.getElementsByTagName("script"),c=0;c<d.length;c+=1){var u=d[c].src,f=u.match("trumbowyg(.min)?.js");null!=f&&(s=u.substring(0,u.indexOf(f[0]))+"ui/icons.svg")}null==s&&console.warn("You must define svgPath: https://goo.gl/CfTY9U")}var g=l.doc.createElement("div");g.id="trumbowyg-icons",l.doc.body.insertBefore(g,l.doc.body.childNodes[0]),a.ajax({async:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",dataType:"xml",crossDomain:!0,url:s,data:null,beforeSend:null,complete:null,success:function(e){g.innerHTML=(new XMLSerializer).serializeToString(e.documentElement)}})}var b=l.lang.header,m=function(){return(t.chrome||t.Intl&&Intl.v8BreakIterator)&&"CSS"in t};l.btnsDef={viewHTML:{fn:"toggle",class:"trumbowyg-not-disable"},undo:{isSupported:m,key:"Z"},redo:{isSupported:m,key:"Y"},p:{fn:"formatBlock"},blockquote:{fn:"formatBlock"},h1:{fn:"formatBlock",title:b+" 1"},h2:{fn:"formatBlock",title:b+" 2"},h3:{fn:"formatBlock",title:b+" 3"},h4:{fn:"formatBlock",title:b+" 4"},h5:{fn:"formatBlock",title:b+" 5"},h6:{fn:"formatBlock",title:b+" 6"},subscript:{tag:"sub"},superscript:{tag:"sup"},bold:{key:"B",tag:"b"},italic:{key:"I",tag:"i"},underline:{tag:"u"},strikethrough:{tag:"strike"},strong:{fn:"bold",key:"B"},em:{fn:"italic",key:"I"},del:{fn:"strikethrough"},createLink:{key:"K",tag:"a"},unlink:{},insertImage:{},justifyLeft:{tag:"left",forceCss:!0},justifyCenter:{tag:"center",forceCss:!0},justifyRight:{tag:"right",forceCss:!0},justifyFull:{tag:"justify",forceCss:!0},unorderedList:{fn:"insertUnorderedList",tag:"ul"},orderedList:{fn:"insertOrderedList",tag:"ol"},horizontalRule:{fn:"insertHorizontalRule"},removeformat:{},fullscreen:{class:"trumbowyg-not-disable"},close:{fn:"destroy",class:"trumbowyg-not-disable"},formatting:{dropdown:["p","blockquote","h1","h2","h3","h4"],ico:"p"},link:{dropdown:["createLink","unlink"]}},l.o=a.extend(!0,{},i.defaultOptions,r),l.o.hasOwnProperty("imgDblClickHandler")||(l.o.imgDblClickHandler=l.getDefaultImgDblClickHandler()),l.urlPrefix=l.setupUrlPrefix(),l.disabled=l.o.disabled||"TEXTAREA"===o.nodeName&&o.disabled,r.btns?l.o.btns=r.btns:l.o.semantic||(l.o.btns[3]=["bold","italic","underline","strikethrough"]),a.each(l.o.btnsDef,(function(e,t){l.addBtnDef(e,t)})),l.eventNamespace="trumbowyg-event",l.keys=[],l.tagToButton={},l.tagHandlers=[],l.pasteHandlers=[].concat(l.o.pasteHandlers),l.isIE=-1!==e.userAgent.indexOf("MSIE")||-1!==e.appVersion.indexOf("Trident/"),l.isMac=-1!==e.platform.toUpperCase().indexOf("MAC"),l.init()};r.prototype={DEFAULT_SEMANTIC_MAP:{b:"strong",i:"em",s:"del",strike:"del",div:"p"},init:function(){var e=this;e.height=e.$ta.height(),e.initPlugins();try{e.doc.execCommand("enableObjectResizing",!1,!1),e.doc.execCommand("defaultParagraphSeparator",!1,"p")}catch(e){}e.buildEditor(),e.buildBtnPane(),e.fixedBtnPaneEvents(),e.buildOverlay(),setTimeout((function(){e.disabled&&e.setDisabled(!0),e.$c.trigger("tbwinit")}))},addBtnDef:function(e,t){this.btnsDef[e]=a.extend(t,this.btnsDef[e]||{})},setupUrlPrefix:function(){var e=this.o.urlProtocol;if(e)return"string"!=typeof e?"https://":e.replace("://","")+"://"},buildEditor:function(){var e=this,o=e.o.prefix,n="";e.$box=a("<div/>",{class:o+"box "+o+"editor-visible "+o+e.o.lang+" trumbowyg"}),e.isTextarea=e.$ta.is("textarea"),e.isTextarea?(n=e.$ta.val(),e.$ed=a("<div/>"),e.$box.insertAfter(e.$ta).append(e.$ed,e.$ta)):(e.$ed=e.$ta,n=e.$ed.html(),e.$ta=a("<textarea/>",{name:e.$ta.attr("id"),height:e.height}).val(n),e.$box.insertAfter(e.$ed).append(e.$ta,e.$ed),e.syncCode()),e.$ta.addClass(o+"textarea").attr("tabindex",-1),e.$ed.addClass(o+"editor").attr({contenteditable:!0,dir:e.lang._dir||"ltr"}).html(n),e.o.tabindex&&e.$ed.attr("tabindex",e.o.tabindex),e.$c.is("[placeholder]")&&e.$ed.attr("placeholder",e.$c.attr("placeholder")),e.$c.is("[spellcheck]")&&e.$ed.attr("spellcheck",e.$c.attr("spellcheck")),e.o.resetCss&&e.$ed.addClass(o+"reset-css"),e.o.autogrow||e.$ta.add(e.$ed).css({height:e.height}),e.semanticCode(),e.o.autogrowOnEnter&&e.$ed.addClass(o+"autogrow-on-enter");var r,l=!1,i=!1;e.$ed.on("dblclick","img",e.o.imgDblClickHandler).on("keydown",(function(t){if(!t.ctrlKey&&!t.metaKey||t.altKey){if(e.o.tabToIndent&&"Tab"===t.key)try{return t.shiftKey?e.execCmd("outdent",!0,null):e.execCmd("indent",!0,null),!1}catch(e){}}else{l=!0;var o=e.keys[String.fromCharCode(t.which).toUpperCase()];try{return e.execCmd(o.fn,o.param),!1}catch(e){}}})).on("compositionstart compositionupdate",(function(){i=!0})).on("keyup compositionend",(function(t){if("compositionend"===t.type)i=!1;else if(i)return;var o=t.which;if(!(o>=37&&o<=40)){if(!t.ctrlKey&&!t.metaKey||89!==o&&90!==o)if(l||17===o)void 0===t.which&&e.semanticCode(!1,!1,!0);else{var n=!e.isIE||"compositionend"===t.type;e.semanticCode(!1,n&&13===o),e.$c.trigger("tbwchange")}else e.semanticCode(!1,!0),e.$c.trigger("tbwchange");setTimeout((function(){l=!1}),50)}})).on("mouseup keydown keyup",(function(t){(!t.ctrlKey&&!t.metaKey||t.altKey)&&setTimeout((function(){l=!1}),50),clearTimeout(r),r=setTimeout((function(){e.updateButtonPaneStatus()}),50)})).on("focus blur",(function(t){if("blur"===t.type&&e.clearButtonPaneStatus(),e.$c.trigger("tbw"+t.type),e.o.autogrowOnEnter){if(e.autogrowOnEnterDontClose)return;"focus"===t.type?(e.autogrowOnEnterWasFocused=!0,e.autogrowEditorOnEnter()):e.o.autogrow||(e.$ed.css({height:e.$ed.css("min-height")}),e.$c.trigger("tbwresize"))}})).on("keyup focus",(function(){e.$ta.val().match(/<.*>/)||setTimeout((function(){var t=e.isIE?"<p>":"p";e.doc.execCommand("formatBlock",!1,t),e.syncCode()}),0)})).on("cut drop",(function(){setTimeout((function(){e.semanticCode(!1,!0),e.$c.trigger("tbwchange")}),0)})).on("paste",(function(o){if(e.o.removeformatPasted){o.preventDefault(),t.getSelection&&t.getSelection().deleteFromDocument&&t.getSelection().deleteFromDocument();try{var n=t.clipboardData.getData("Text");try{e.doc.selection.createRange().pasteHTML(n)}catch(t){e.doc.getSelection().getRangeAt(0).insertNode(e.doc.createTextNode(n))}e.$c.trigger("tbwchange",o)}catch(t){e.execCmd("insertText",(o.originalEvent||o).clipboardData.getData("text/plain"))}}a.each(e.pasteHandlers,(function(e,t){t(o)})),setTimeout((function(){e.semanticCode(!1,!0),e.$c.trigger("tbwpaste",o),e.$c.trigger("tbwchange")}),0)})),e.$ta.on("keyup",(function(){e.$c.trigger("tbwchange")})).on("paste",(function(){setTimeout((function(){e.$c.trigger("tbwchange")}),0)})),a(e.doc.body).on("keydown."+e.eventNamespace,(function(t){if(27===t.which&&a("."+o+"modal-box").length>=1)return e.closeModal(),!1}))},autogrowEditorOnEnter:function(){var e=this;e.$ed.removeClass("autogrow-on-enter");var t=e.$ed[0].clientHeight;e.$ed.height("auto");var o=e.$ed[0].scrollHeight;e.$ed.addClass("autogrow-on-enter"),t!==o&&(e.$ed.height(t),setTimeout((function(){e.$ed.css({height:o}),e.$c.trigger("tbwresize")}),0))},buildBtnPane:function(){var e=this,t=e.o.prefix,o=e.$btnPane=a("<div/>",{class:t+"button-pane"});a.each(e.o.btns,(function(n,r){a.isArray(r)||(r=[r]);var l=a("<div/>",{class:t+"button-group "+(r.indexOf("fullscreen")>=0?t+"right":"")});a.each(r,(function(t,o){try{e.isSupportedBtn(o)&&l.append(e.buildBtn(o))}catch(e){}})),l.html().trim().length>0&&o.append(l)})),e.$box.prepend(o)},buildBtn:function(e){var t=this,o=t.o.prefix,n=t.btnsDef[e],r=n.dropdown,l=null==n.hasIcon||n.hasIcon,i=t.lang[e]||e,s=a("<button/>",{type:"button",class:o+e+"-button "+(n.class||"")+(l?"":" "+o+"textual-button"),html:t.hasSvg&&l?'<svg><use xlink:href="'+t.svgPath+"#"+o+(n.ico||e).replace(/([A-Z]+)/g,"-$1").toLowerCase()+'"/></svg>':t.hideButtonTexts?"":n.text||n.title||t.lang[e]||e,title:(n.title||n.text||i)+(n.key?" ("+(t.isMac?"Cmd":"Ctrl")+" + "+n.key+")":""),tabindex:-1,mousedown:function(){return r&&!a("."+e+"-"+o+"dropdown",t.$box).is(":hidden")||a("body",t.doc).trigger("mousedown"),!((t.$btnPane.hasClass(o+"disable")||t.$box.hasClass(o+"disabled"))&&!a(this).hasClass(o+"active")&&!a(this).hasClass(o+"not-disable"))&&(t.execCmd((!r?n.fn:"dropdown")||e,n.param||e,n.forceCss),!1)}});if(r){s.addClass(o+"open-dropdown");var d=o+"dropdown",c={class:d+"-"+e+" "+d+" "+o+"fixed-top "+(n.dropdownClass||"")};c["data-"+d]=e;var u=a("<div/>",c);a.each(r,(function(e,o){t.btnsDef[o]&&t.isSupportedBtn(o)&&u.append(t.buildSubBtn(o))})),t.$box.append(u.hide())}else n.key&&(t.keys[n.key]={fn:n.fn||e,param:n.param||e});return r||(t.tagToButton[(n.tag||e).toLowerCase()]=e),s},buildSubBtn:function(e){var t=this,o=t.o.prefix,n=t.btnsDef[e],r=null==n.hasIcon||n.hasIcon;return n.key&&(t.keys[n.key]={fn:n.fn||e,param:n.param||e}),t.tagToButton[(n.tag||e).toLowerCase()]=e,a("<button/>",{type:"button",class:o+e+"-dropdown-button "+(n.class||"")+(n.ico?" "+o+n.ico+"-button":""),html:t.hasSvg&&r?'<svg><use xlink:href="'+t.svgPath+"#"+o+(n.ico||e).replace(/([A-Z]+)/g,"-$1").toLowerCase()+'"/></svg>'+(n.text||n.title||t.lang[e]||e):n.text||n.title||t.lang[e]||e,title:n.key?"("+(t.isMac?"Cmd":"Ctrl")+" + "+n.key+")":null,style:n.style||null,mousedown:function(){return a("body",t.doc).trigger("mousedown"),t.execCmd(n.fn||e,n.param||e,n.forceCss),!1}})},isSupportedBtn:function(e){try{return this.btnsDef[e].isSupported()}catch(e){}return!0},buildOverlay:function(){var e=this;return e.$overlay=a("<div/>",{class:e.o.prefix+"overlay"}).appendTo(e.$box),e.$overlay},showOverlay:function(){var e=this;a(t).trigger("scroll"),e.$overlay.fadeIn(200),e.$box.addClass(e.o.prefix+"box-blur")},hideOverlay:function(){var e=this;e.$overlay.fadeOut(50),e.$box.removeClass(e.o.prefix+"box-blur")},fixedBtnPaneEvents:function(){var e=this,o=e.o.fixedFullWidth,n=e.$box;e.o.fixedBtnPane&&(e.isFixed=!1,a(t).on("scroll."+e.eventNamespace+" resize."+e.eventNamespace,(function(){if(n){e.syncCode();var r=a(t).scrollTop(),l=n.offset().top+1,i=e.$btnPane,s=i.outerHeight()-2;r-l>0&&r-l-e.height<0?(e.isFixed||(e.isFixed=!0,i.css({position:"fixed",top:0,left:o?0:"auto",zIndex:7}),e.$box.css({paddingTop:i.height()})),i.css({width:o?"100%":n.width()-1}),a("."+e.o.prefix+"fixed-top",n).css({position:o?"fixed":"absolute",top:o?s:s+(r-l),zIndex:15})):e.isFixed&&(e.isFixed=!1,i.removeAttr("style"),e.$box.css({paddingTop:0}),a("."+e.o.prefix+"fixed-top",n).css({position:"absolute",top:s}))}})))},setDisabled:function(e){var t=this,o=t.o.prefix;t.disabled=e,e?t.$ta.attr("disabled",!0):t.$ta.removeAttr("disabled"),t.$box.toggleClass(o+"disabled",e),t.$ed.attr("contenteditable",!e)},destroy:function(){var e=this,o=e.o.prefix;e.isTextarea?e.$box.after(e.$ta.css({height:""}).val(e.html()).removeClass(o+"textarea").show()):e.$box.after(e.$ed.css({height:""}).removeClass(o+"editor").removeAttr("contenteditable").removeAttr("dir").html(e.html()).show()),e.$ed.off("dblclick","img"),e.destroyPlugins(),e.$box.remove(),e.$c.removeData("trumbowyg"),a("body").removeClass(o+"body-fullscreen"),e.$c.trigger("tbwclose"),a(t).off("scroll."+e.eventNamespace+" resize."+e.eventNamespace),a(e.doc.body).off("keydown."+e.eventNamespace)},empty:function(){this.$ta.val(""),this.syncCode(!0)},toggle:function(){var e=this,t=e.o.prefix;e.o.autogrowOnEnter&&(e.autogrowOnEnterDontClose=!e.$box.hasClass(t+"editor-hidden")),e.semanticCode(!1,!0),e.$c.trigger("tbwchange"),setTimeout((function(){e.doc.activeElement.blur(),e.$box.toggleClass(t+"editor-hidden "+t+"editor-visible"),e.$btnPane.toggleClass(t+"disable"),a("."+t+"viewHTML-button",e.$btnPane).toggleClass(t+"active"),e.$box.hasClass(t+"editor-visible")?e.$ta.attr("tabindex",-1):e.$ta.removeAttr("tabindex"),e.o.autogrowOnEnter&&!e.autogrowOnEnterDontClose&&e.autogrowEditorOnEnter()}),0)},dropdown:function(e){var o=this,n=a("body",o.doc),r=o.o.prefix,l=a("[data-"+r+"dropdown="+e+"]",o.$box),i=a("."+r+e+"-button",o.$btnPane),s=l.is(":hidden");if(n.trigger("mousedown"),s){var d=i.offset().left;i.addClass(r+"active"),l.css({position:"absolute",top:i.offset().top-o.$btnPane.offset().top+i.outerHeight(),left:o.o.fixedFullWidth&&o.isFixed?d:d-o.$btnPane.offset().left}).show(),a(t).trigger("scroll"),n.on("mousedown."+o.eventNamespace,(function(e){l.is(e.target)||(a("."+r+"dropdown",o.$box).hide(),a("."+r+"active",o.$btnPane).removeClass(r+"active"),n.off("mousedown."+o.eventNamespace))}))}},html:function(e){var t=this;return null!=e?(t.$ta.val(e),t.syncCode(!0),t.$c.trigger("tbwchange"),t):t.$ta.val()},syncTextarea:function(){var e=this;e.$ta.val(e.$ed.text().trim().length>0||e.$ed.find(e.o.tagsToKeep.join(",")).length>0?e.$ed.html():"")},syncCode:function(e){var t=this;if(!e&&t.$ed.is(":visible"))t.syncTextarea();else{var o=a("<div>").html(t.$ta.val()),n=a("<div>").append(o);a(t.o.tagsToRemove.join(","),n).remove(),t.$ed.html(n.contents().html())}if(t.o.autogrow&&(t.height=t.$ed.height(),t.height!==t.$ta.css("height")&&(t.$ta.css({height:t.height}),t.$c.trigger("tbwresize"))),t.o.autogrowOnEnter){t.$ed.height("auto");var r=t.autogrowOnEnterWasFocused?t.$ed[0].scrollHeight:t.$ed.css("min-height");r!==t.$ta.css("height")&&(t.$ed.css({height:r}),t.$c.trigger("tbwresize"))}},semanticCode:function(e,t,o){var n=this;if(n.saveRange(),n.syncCode(e),n.o.semantic){if(n.semanticTag("b",n.o.semanticKeepAttributes),n.semanticTag("i",n.o.semanticKeepAttributes),n.semanticTag("s",n.o.semanticKeepAttributes),n.semanticTag("strike",n.o.semanticKeepAttributes),t){var r=n.o.inlineElementsSelector,l=":not("+r+")";n.$ed.contents().filter((function(){return 3===this.nodeType&&this.nodeValue.trim().length>0})).wrap("<span data-tbw/>");!function e(t){if(0!==t.length){var o=t.nextUntil(l).addBack().wrapAll("<p/>").parent(),n=o.nextAll(r).first();o.next("br").remove(),e(n)}}(n.$ed.children(r).first()),n.semanticTag("div",!0),a("[data-tbw]",n.$ed).contents().unwrap(),n.$ed.find("p:empty").remove()}o||n.restoreRange(),n.syncTextarea()}},semanticTag:function(e,t){var n;if(null!=this.o.semantic&&"object"===o(this.o.semantic)&&this.o.semantic.hasOwnProperty(e))n=this.o.semantic[e];else{if(!0!==this.o.semantic||!this.DEFAULT_SEMANTIC_MAP.hasOwnProperty(e))return;n=this.DEFAULT_SEMANTIC_MAP[e]}a(e,this.$ed).each((function(){var e=a(this);if(0===e.contents().length)return!1;e.wrap("<"+n+"/>"),t&&a.each(e.prop("attributes"),(function(){e.parent().attr(this.name,this.value)})),e.contents().unwrap()}))},createLink:function(){for(var e,t,o,n=this,r=n.doc.getSelection(),l=r.getRangeAt(0),i=r.focusNode,s=(new XMLSerializer).serializeToString(l.cloneContents())||l+"";["A","DIV"].indexOf(i.nodeName)<0;)i=i.parentNode;if(i&&"A"===i.nodeName){var d=a(i);s=d.text(),e=d.attr("href"),n.o.minimalLinks||(t=d.attr("title"),o=d.attr("target")||n.o.defaultLinkTarget);var c=n.doc.createRange();c.selectNode(i),r.removeAllRanges(),r.addRange(c)}n.saveRange();var u={url:{label:"URL",required:!0,value:e},text:{label:n.lang.text,value:s}};n.o.minimalLinks||a.extend(u,{title:{label:n.lang.title,value:t},target:{label:n.lang.target,value:o}}),n.openModalInsert(n.lang.createLink,u,(function(e){var t=n.prependUrlPrefix(e.url);if(!t.length)return!1;var o=a(['<a href="',t,'">',e.text||e.url,"</a>"].join(""));return e.title&&o.attr("title",e.title),(e.target||n.o.defaultLinkTarget)&&o.attr("target",e.target||n.o.defaultLinkTarget),n.range.deleteContents(),n.range.insertNode(o[0]),n.syncCode(),n.$c.trigger("tbwchange"),!0}))},prependUrlPrefix:function(e){if(!this.urlPrefix)return e;if(/^([a-z][-+.a-z0-9]*:|\/|#)/i.test(e))return e;return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?"mailto:"+e:this.urlPrefix+e},unlink:function(){var e=this,t=e.doc.getSelection(),o=t.focusNode;if(t.isCollapsed){for(;["A","DIV"].indexOf(o.nodeName)<0;)o=o.parentNode;if(o&&"A"===o.nodeName){var n=e.doc.createRange();n.selectNode(o),t.removeAllRanges(),t.addRange(n)}}e.execCmd("unlink",void 0,void 0,!0)},insertImage:function(){var e=this;e.saveRange();var t={url:{label:"URL",required:!0},alt:{label:e.lang.description,value:e.getRangeText()}};e.o.imageWidthModalEdit&&(t.width={}),e.openModalInsert(e.lang.insertImage,t,(function(t){e.execCmd("insertImage",t.url,!1,!0);var o=a('img[src="'+t.url+'"]:not([alt])',e.$box);return o.attr("alt",t.alt),e.o.imageWidthModalEdit&&o.attr({width:t.width}),e.syncCode(),e.$c.trigger("tbwchange"),!0}))},fullscreen:function(){var e,o=this,n=o.o.prefix,r=n+"fullscreen",l=r+"-placeholder",i=o.$box.outerHeight();o.$box.toggleClass(r),(e=o.$box.hasClass(r))?o.$box.before(a("<div/>",{class:l}).css({height:i})):a("."+l).remove(),a("body").toggleClass(n+"body-fullscreen",e),a(t).trigger("scroll"),o.$c.trigger("tbw"+(e?"open":"close")+"fullscreen")},execCmd:function(e,t,o,n){var a=this;n=!!n||"","dropdown"!==e&&a.$ed.focus();try{a.doc.execCommand("styleWithCSS",!1,o||!1)}catch(e){}try{a[e+n](t)}catch(o){try{e(t)}catch(o){"insertHorizontalRule"===e?t=void 0:"formatBlock"===e&&a.isIE&&(t="<"+t+">"),a.doc.execCommand(e,!1,t),a.syncCode(),a.semanticCode(!1,!0)}"dropdown"!==e&&(a.updateButtonPaneStatus(),a.$c.trigger("tbwchange"))}},openModal:function(e,o,n){var r=this,l=r.o.prefix;if(n=!1!==n,a("."+l+"modal-box",r.$box).length>0)return!1;r.o.autogrowOnEnter&&(r.autogrowOnEnterDontClose=!0),r.saveRange(),r.showOverlay(),r.$btnPane.addClass(l+"disable");var i,s=a("<div/>",{class:l+"modal "+l+"fixed-top"}).css({top:r.$box.offset().top+r.$btnPane.height(),zIndex:99999}).appendTo(a(r.doc.body));r.$overlay.one("click",(function(){return s.trigger("tbwcancel"),!1})),i=n?a("<form/>",{action:"",html:o}).on("submit",(function(){return s.trigger("tbwconfirm"),!1})).on("reset",(function(){return s.trigger("tbwcancel"),!1})).on("submit reset",(function(){r.o.autogrowOnEnter&&(r.autogrowOnEnterDontClose=!1)})):o;var d=a("<div/>",{class:l+"modal-box",html:i}).css({top:"-"+r.$btnPane.outerHeight(),opacity:0,paddingBottom:n?null:"5%"}).appendTo(s).animate({top:0,opacity:1},100);return e&&a("<span/>",{text:e,class:l+"modal-title"}).prependTo(d),n&&(a("input:first",d).focus(),r.buildModalBtn("submit",d),r.buildModalBtn("reset",d),s.height(d.outerHeight()+10)),a(t).trigger("scroll"),r.$c.trigger("tbwmodalopen"),s},buildModalBtn:function(e,t){var o=this.o.prefix;return a("<button/>",{class:o+"modal-button "+o+"modal-"+e,type:e,text:this.lang[e]||e}).appendTo(a("form",t))},closeModal:function(){var e=this,t=e.o.prefix;e.$btnPane.removeClass(t+"disable"),e.$overlay.off();var o=a("."+t+"modal-box",a(e.doc.body));o.animate({top:"-"+o.height()},100,(function(){o.parent().remove(),e.hideOverlay(),e.$c.trigger("tbwmodalclose")})),e.restoreRange()},openModalInsert:function(e,t,o){var n=this,r=n.o.prefix,l=n.lang,i="";return a.each(t,(function(e,t){var o=t.label||e,n=t.name||e,a=t.attributes||{},s=Object.keys(a).map((function(e){return e+'="'+a[e]+'"'})).join(" ");i+='<label><input type="'+(t.type||"text")+'" name="'+n+'"'+("checkbox"===t.type&&t.value?' checked="checked"':' value="'+(t.value||"").replace(/"/g,"&quot;"))+'"'+s+'><span class="'+r+'input-infos"><span>'+(l[o]?l[o]:o)+"</span></span></label>"})),n.openModal(e,i).on("tbwconfirm",(function(){var e=a("form",a(this)),r=!0,l={};a.each(t,(function(t,o){var i=o.name||t,s=a('input[name="'+i+'"]',e);switch(s.attr("type").toLowerCase()){case"checkbox":l[i]=s.is(":checked");break;case"radio":l[i]=s.filter(":checked").val();break;default:l[i]=a.trim(s.val())}o.required&&""===l[i]?(r=!1,n.addErrorOnModalField(s,n.lang.required)):o.pattern&&!o.pattern.test(l[i])&&(r=!1,n.addErrorOnModalField(s,o.patternError))})),r&&(n.restoreRange(),o(l,t)&&(n.syncCode(),n.$c.trigger("tbwchange"),n.closeModal(),a(this).off("tbwconfirm")))})).one("tbwcancel",(function(){a(this).off("tbwconfirm"),n.closeModal()}))},addErrorOnModalField:function(e,t){var o=this.o.prefix,n=o+"msg-error",r=e.parent();e.on("change keyup",(function(){r.removeClass(o+"input-error"),setTimeout((function(){r.find("."+n).remove()}),150)})),r.addClass(o+"input-error").find("input+span").append(a("<span/>",{class:n,text:t}))},getDefaultImgDblClickHandler:function(){var e=this;return function(){var t=a(this),o=t.attr("src");0===o.indexOf("data:image")&&(o="(Base64)");var n={url:{label:"URL",value:o,required:!0},alt:{label:e.lang.description,value:t.attr("alt")}};return e.o.imageWidthModalEdit&&(n.width={value:t.attr("width")?t.attr("width"):""}),e.openModalInsert(e.lang.insertImage,n,(function(o){return"(Base64)"!==o.url&&t.attr({src:o.url}),t.attr({alt:o.alt}),e.o.imageWidthModalEdit&&(parseInt(o.width)>0?t.attr({width:o.width}):t.removeAttr("width")),!0})),!1}},saveRange:function(){var e=this,t=e.doc.getSelection();if(e.range=null,t&&t.rangeCount){var o,n=e.range=t.getRangeAt(0),a=e.doc.createRange();a.selectNodeContents(e.$ed[0]),a.setEnd(n.startContainer,n.startOffset),o=(a+"").length,e.metaRange={start:o,end:o+(n+"").length}}},restoreRange:function(){var e,t=this,o=t.metaRange,n=t.range,a=t.doc.getSelection();if(n){if(o&&o.start!==o.end){var r,l=0,i=[t.$ed[0]],s=!1,d=!1;for(e=t.doc.createRange();!d&&(r=i.pop());)if(3===r.nodeType){var c=l+r.length;!s&&o.start>=l&&o.start<=c&&(e.setStart(r,o.start-l),s=!0),s&&o.end>=l&&o.end<=c&&(e.setEnd(r,o.end-l),d=!0),l=c}else for(var u=r.childNodes,f=u.length;f>0;)f-=1,i.push(u[f])}try{a.removeAllRanges()}catch(e){}a.addRange(e||n)}},getRangeText:function(){return this.range+""},clearButtonPaneStatus:function(){var e=this,t=e.o.prefix,o=t+"active-button "+t+"active",n=t+"original-icon";a("."+t+"active-button",e.$btnPane).removeClass(o),a("."+n,e.$btnPane).each((function(){a(this).find("svg use").attr("xlink:href",a(this).data(n))}))},updateButtonPaneStatus:function(){var e=this,t=e.o.prefix,o=t+"active-button "+t+"active",n=t+"original-icon",r=e.getTagsRecursive(e.doc.getSelection().focusNode);e.clearButtonPaneStatus(),a.each(r,(function(r,l){var i=e.tagToButton[l.toLowerCase()],s=a("."+t+i+"-button",e.$btnPane);if(s.length>0)s.addClass(o);else try{var d=(s=a("."+t+"dropdown ."+t+i+"-dropdown-button",e.$box)).find("svg use"),c=s.parent().data(t+"dropdown"),u=a("."+t+c+"-button",e.$box),f=u.find("svg use");u.addClass(o),e.o.changeActiveDropdownIcon&&d.length>0&&(u.addClass(n).data(n,f.attr("xlink:href")),f.attr("xlink:href",d.attr("xlink:href")))}catch(e){}}))},getTagsRecursive:function(e,t){var o=this;if(t=t||(e&&e.tagName?[e.tagName]:[]),!e||!e.parentNode)return t;var n=(e=e.parentNode).tagName;return"DIV"===n?t:("P"===n&&""!==e.style.textAlign&&t.push(e.style.textAlign),a.each(o.tagHandlers,(function(n,a){t=t.concat(a(e,o))})),t.push(n),o.getTagsRecursive(e,t).filter((function(e){return null!=e})))},initPlugins:function(){var e=this;e.loadedPlugins=[],a.each(a.trumbowyg.plugins,(function(t,o){o.shouldInit&&!o.shouldInit(e)||(o.init(e),o.tagHandler&&e.tagHandlers.push(o.tagHandler),e.loadedPlugins.push(o))}))},destroyPlugins:function(){var e=this;a.each(this.loadedPlugins,(function(t,o){o.destroy&&o.destroy(e)}))}}}(navigator,window,document,jQuery)},function(e,t){jQuery.trumbowyg.langs.ja={viewHTML:"HTML表示",undo:"元に戻す",redo:"やり直す",formatting:"フォーマット",p:"段落",blockquote:"引用",code:"コード",header:"見出し",bold:"太字",italic:"斜体",strikethrough:"取り消し線",underline:"下線",strong:"太字",em:"斜体",del:"取り消し線",superscript:"上付き文字",subscript:"下付き文字",unorderedList:"順序なしリスト",orderedList:"順序ありリスト",insertImage:"画像の挿入",link:"リンク",createLink:"リンクの作成",unlink:"リンクの削除",justifyLeft:"左揃え",justifyCenter:"中央揃え",justifyRight:"右揃え",justifyFull:"両端揃え",horizontalRule:"横罫線",removeformat:"フォーマットの削除",fullscreen:"全画面表示",close:"閉じる",submit:"送信",reset:"キャンセル",required:"必須",description:"説明",title:"タイトル",text:"テキスト",target:"ターゲット"}},function(e,t){!function(e){"use strict";function t(e){return("0"+parseInt(e).toString(16)).slice(-2)}function o(e){return-1===e.search("rgb")?e.replace("#",""):"rgba(0, 0, 0, 0)"===e?"transparent":t((e=e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+))?\)$/))[1])+t(e[2])+t(e[3])}e.extend(!0,e.trumbowyg,{langs:{cs:{foreColor:"Barva textu",backColor:"Barva pozadí"},en:{foreColor:"Text color",backColor:"Background color",foreColorRemove:"Remove text color",backColorRemove:"Remove background color"},da:{foreColor:"Tekstfarve",backColor:"Baggrundsfarve"},fr:{foreColor:"Couleur du texte",backColor:"Couleur de fond",foreColorRemove:"Supprimer la couleur du texte",backColorRemove:"Supprimer la couleur de fond"},de:{foreColor:"Textfarbe",backColor:"Hintergrundfarbe"},nl:{foreColor:"Tekstkleur",backColor:"Achtergrondkleur"},sk:{foreColor:"Farba textu",backColor:"Farba pozadia"},zh_cn:{foreColor:"文字颜色",backColor:"背景颜色"},zh_tw:{foreColor:"文字顏色",backColor:"背景顏色"},ru:{foreColor:"Цвет текста",backColor:"Цвет выделения текста"},ja:{foreColor:"文字色",backColor:"背景色"},tr:{foreColor:"Yazı rengi",backColor:"Arkaplan rengi"},pt_br:{foreColor:"Cor de fonte",backColor:"Cor de fundo"},ko:{foreColor:"글자색",backColor:"배경색",foreColorRemove:"글자색 지우기",backColorRemove:"배경색 지우기"}}});var n={colorList:["ffffff","000000","eeece1","1f497d","4f81bd","c0504d","9bbb59","8064a2","4bacc6","f79646","ffff00","f2f2f2","7f7f7f","ddd9c3","c6d9f0","dbe5f1","f2dcdb","ebf1dd","e5e0ec","dbeef3","fdeada","fff2ca","d8d8d8","595959","c4bd97","8db3e2","b8cce4","e5b9b7","d7e3bc","ccc1d9","b7dde8","fbd5b5","ffe694","bfbfbf","3f3f3f","938953","548dd4","95b3d7","d99694","c3d69b","b2a2c7","b7dde8","fac08f","f2c314","a5a5a5","262626","494429","17365d","366092","953734","76923c","5f497a","92cddc","e36c09","c09100","7f7f7f","0c0c0c","1d1b10","0f243e","244061","632423","4f6128","3f3151","31859b","974806","7f6000"],foreColorList:null,backColorList:null,allowCustomForeColor:!0,allowCustomBackColor:!0,displayAsList:!1};function a(t,o){var n=[],a=o.o.plugins.colors,r=a[t+"List"]||a.colorList;e.each(r,(function(e,r){var l=t+r,i={fn:t,forceCss:!0,hasIcon:!1,text:o.lang["#"+r]||"#"+r,param:"#"+r,style:"background-color: #"+r+";"};a.displayAsList&&"foreColor"===t&&(i.style="color: #"+r+" !important;"),o.addBtnDef(l,i),n.push(l)}));var l=t+"Remove",i={fn:"removeFormat",hasIcon:!1,param:t,style:"background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAG0lEQVQIW2NkQAAfEJMRmwBYhoGBYQtMBYoAADziAp0jtJTgAAAAAElFTkSuQmCC);"};if(a.displayAsList&&(i.style=""),o.addBtnDef(l,i),n.push(l),a["allowCustom"+t.charAt(0).toUpperCase()+t.substr(1)]){var s=t+"Free",d={fn:function(){o.openModalInsert(o.lang[t],{color:{label:t,forceCss:!0,type:"color",value:"#FFFFFF"}},(function(e){return o.execCmd(t,e.color),!0}))},hasIcon:!1,text:"#",style:"text-indent: 0; line-height: 20px; padding: 0 5px;"};o.addBtnDef(s,d),n.push(s)}return n}e.extend(!0,e.trumbowyg,{plugins:{color:{init:function(e){e.o.plugins.colors=e.o.plugins.colors||n;var t=e.o.plugins.colors.displayAsList?e.o.prefix+"dropdown--color-list":"",o={dropdown:a("foreColor",e),dropdownClass:t},r={dropdown:a("backColor",e),dropdownClass:t};e.addBtnDef("foreColor",o),e.addBtnDef("backColor",r)},tagHandler:function(e,t){var n,a=[];if(!e.style)return a;if(""!==e.style.backgroundColor){var r=o(e.style.backgroundColor);t.o.plugins.colors.colorList.indexOf(r)>=0?a.push("backColor"+r):a.push("backColorFree")}return""!==e.style.color?n=o(e.style.color):e.hasAttribute("color")&&(n=o(e.getAttribute("color"))),n&&(t.o.plugins.colors.colorList.indexOf(n)>=0?a.push("foreColor"+n):a.push("foreColorFree")),a}}}})}(jQuery)},function(e,t){!function(e){"use strict";e.extend(!0,e.trumbowyg,{langs:{en:{fontsize:"Font size",fontsizes:{"x-small":"Extra small",small:"Small",medium:"Regular",large:"Large","x-large":"Extra large",custom:"Custom"},fontCustomSize:{title:"Custom Font Size",label:"Font Size",value:"48px"}},es:{fontsize:"Tamaño de Fuente",fontsizes:{"x-small":"Extra pequeña",small:"Pegueña",medium:"Regular",large:"Grande","x-large":"Extra Grande",custom:"Customizada"},fontCustomSize:{title:"Tamaño de Fuente Customizada",label:"Tamaño de Fuente",value:"48px"}},da:{fontsize:"Skriftstørrelse",fontsizes:{"x-small":"Ekstra lille",small:"Lille",medium:"Normal",large:"Stor","x-large":"Ekstra stor",custom:"Brugerdefineret"}},fr:{fontsize:"Taille de la police",fontsizes:{"x-small":"Très petit",small:"Petit",medium:"Normal",large:"Grand","x-large":"Très grand",custom:"Taille personnalisée"},fontCustomSize:{title:"Taille de police personnalisée",label:"Taille de la police",value:"48px"}},de:{fontsize:"Schriftgröße",fontsizes:{"x-small":"Sehr klein",small:"Klein",medium:"Normal",large:"Groß","x-large":"Sehr groß",custom:"Benutzerdefiniert"},fontCustomSize:{title:"Benutzerdefinierte Schriftgröße",label:"Schriftgröße",value:"48px"}},nl:{fontsize:"Lettergrootte",fontsizes:{"x-small":"Extra klein",small:"Klein",medium:"Normaal",large:"Groot","x-large":"Extra groot",custom:"Tilpasset"}},tr:{fontsize:"Yazı Boyutu",fontsizes:{"x-small":"Çok Küçük",small:"Küçük",medium:"Normal",large:"Büyük","x-large":"Çok Büyük",custom:"Görenek"}},zh_tw:{fontsize:"字體大小",fontsizes:{"x-small":"最小",small:"小",medium:"中",large:"大","x-large":"最大",custom:"自訂大小"},fontCustomSize:{title:"自訂義字體大小",label:"字體大小",value:"48px"}},pt_br:{fontsize:"Tamanho da fonte",fontsizes:{"x-small":"Extra pequeno",small:"Pequeno",regular:"Médio",large:"Grande","x-large":"Extra grande",custom:"Personalizado"},fontCustomSize:{title:"Tamanho de Fonte Personalizado",label:"Tamanho de Fonte",value:"48px"}},it:{fontsize:"Dimensioni del testo",fontsizes:{"x-small":"Molto piccolo",small:"piccolo",regular:"normale",large:"grande","x-large":"Molto grande",custom:"Personalizzato"},fontCustomSize:{title:"Dimensioni del testo personalizzato",label:"Dimensioni del testo",value:"48px"}},ko:{fontsize:"글꼴 크기",fontsizes:{"x-small":"아주 작게",small:"작게",medium:"보통",large:"크게","x-large":"아주 크게",custom:"사용자 지정"},fontCustomSize:{title:"사용자 지정 글꼴 크기",label:"글꼴 크기",value:"48px"}}}});var t={sizeList:["x-small","small","medium","large","x-large"],allowCustomSize:!0};function o(t,o){t.$ed.focus(),t.saveRange();var n=t.range.startContainer.parentElement,a=t.getRangeText();if(e(n).html()===a)e(n).css("font-size",o);else{t.range.deleteContents();var r=e('<span style="font-size: '+o+';">'+a+"</span>")[0];t.range.insertNode(r)}t.restoreRange()}function n(t){var n=[];if(e.each(t.o.plugins.fontsize.sizeList,(function(e,a){t.addBtnDef("fontsize_"+a,{text:'<span style="font-size: '+a+';">'+(t.lang.fontsizes[a]||a)+"</span>",hasIcon:!1,fn:function(){o(t,a)}}),n.push("fontsize_"+a)})),t.o.plugins.fontsize.allowCustomSize){var a={fn:function(){t.openModalInsert(t.lang.fontCustomSize.title,{size:{label:t.lang.fontCustomSize.label,value:t.lang.fontCustomSize.value}},(function(e){return o(t,e.size),!0}))},text:'<span style="font-size: medium;">'+t.lang.fontsizes.custom+"</span>",hasIcon:!1};t.addBtnDef("fontsize_custom",a),n.push("fontsize_custom")}return n}e.extend(!0,e.trumbowyg,{plugins:{fontsize:{init:function(o){o.o.plugins.fontsize=e.extend({},t,o.o.plugins.fontsize||{}),o.addBtnDef("fontsize",{dropdown:n(o)})}}}})}(jQuery)},function(e,t){!function(e){"use strict";var t={rows:8,columns:8,styler:"table"};e.extend(!0,e.trumbowyg,{langs:{en:{table:"Insert table",tableAddRow:"Add row",tableAddRowAbove:"Add row above",tableAddColumnLeft:"Add column to the left",tableAddColumn:"Add column to the right",tableDeleteRow:"Delete row",tableDeleteColumn:"Delete column",tableDestroy:"Delete table",error:"Error"},da:{table:"Indsæt tabel",tableAddRow:"Tilføj række",tableAddRowAbove:"Tilføj række",tableAddColumnLeft:"Tilføj kolonne",tableAddColumn:"Tilføj kolonne",tableDeleteRow:"Slet række",tableDeleteColumn:"Slet kolonne",tableDestroy:"Slet tabel",error:"Fejl"},de:{table:"Tabelle einfügen",tableAddRow:"Zeile hinzufügen",tableAddRowAbove:"Zeile hinzufügen",tableAddColumnLeft:"Spalte hinzufügen",tableAddColumn:"Spalte hinzufügen",tableDeleteRow:"Zeile löschen",tableDeleteColumn:"Spalte löschen",tableDestroy:"Tabelle löschen",error:"Error"},sk:{table:"Vytvoriť tabuľky",tableAddRow:"Pridať riadok",tableAddRowAbove:"Pridať riadok",tableAddColumnLeft:"Pridať stĺpec",tableAddColumn:"Pridať stĺpec",error:"Chyba"},fr:{table:"Insérer un tableau",tableAddRow:"Ajouter des lignes",tableAddRowAbove:"Ajouter des lignes",tableAddColumnLeft:"Ajouter des colonnes",tableAddColumn:"Ajouter des colonnes",tableDeleteRow:"Effacer la ligne",tableDeleteColumn:"Effacer la colonne",tableDestroy:"Effacer le tableau",error:"Erreur"},cs:{table:"Vytvořit příkaz Table",tableAddRow:"Přidat řádek",tableAddRowAbove:"Přidat řádek",tableAddColumnLeft:"Přidat sloupec",tableAddColumn:"Přidat sloupec",error:"Chyba"},ru:{table:"Вставить таблицу",tableAddRow:"Добавить строку",tableAddRowAbove:"Добавить строку",tableAddColumnLeft:"Добавить столбец",tableAddColumn:"Добавить столбец",tableDeleteRow:"Удалить строку",tableDeleteColumn:"Удалить столбец",tableDestroy:"Удалить таблицу",error:"Ошибка"},ja:{table:"表の挿入",tableAddRow:"行の追加",tableAddRowAbove:"行の追加",tableAddColumnLeft:"列の追加",tableAddColumn:"列の追加",error:"エラー"},tr:{table:"Tablo ekle",tableAddRow:"Satır ekle",tableAddRowAbove:"Satır ekle",tableAddColumnLeft:"Kolon ekle",tableAddColumn:"Kolon ekle",error:"Hata"},zh_tw:{table:"插入表格",tableAddRow:"加入行",tableAddRowAbove:"加入行",tableAddColumnLeft:"加入列",tableAddColumn:"加入列",tableDeleteRow:"刪除行",tableDeleteColumn:"刪除列",tableDestroy:"刪除表格",error:"錯誤"},id:{table:"Sisipkan tabel",tableAddRow:"Sisipkan baris",tableAddRowAbove:"Sisipkan baris",tableAddColumnLeft:"Sisipkan kolom",tableAddColumn:"Sisipkan kolom",tableDeleteRow:"Hapus baris",tableDeleteColumn:"Hapus kolom",tableDestroy:"Hapus tabel",error:"Galat"},pt_br:{table:"Inserir tabela",tableAddRow:"Adicionar linha",tableAddRowAbove:"Adicionar linha",tableAddColumnLeft:"Adicionar coluna",tableAddColumn:"Adicionar coluna",tableDeleteRow:"Deletar linha",tableDeleteColumn:"Deletar coluna",tableDestroy:"Deletar tabela",error:"Erro"},ko:{table:"표 넣기",tableAddRow:"줄 추가",tableAddRowAbove:"줄 추가",tableAddColumnLeft:"칸 추가",tableAddColumn:"칸 추가",tableDeleteRow:"줄 삭제",tableDeleteColumn:"칸 삭제",tableDestroy:"표 지우기",error:"에러"}},plugins:{table:{init:function(o){o.o.plugins.table=e.extend(!0,{},t,o.o.plugins.table||{});var n={fn:function(){o.saveRange();var t=o.o.prefix+"dropdown",n={class:t+"-table "+t+" "+o.o.prefix+"fixed-top"};n["data-"+t]="table";var l=e("<div/>",n);if(0===o.$box.find("."+t+"-table").length?o.$box.append(l.hide()):l=o.$box.find("."+t+"-table"),l.html(""),o.$box.find("."+o.o.prefix+"table-button").hasClass(o.o.prefix+"active-button"))l.append(o.buildSubBtn("tableAddRowAbove")),l.append(o.buildSubBtn("tableAddRow")),l.append(o.buildSubBtn("tableAddColumnLeft")),l.append(o.buildSubBtn("tableAddColumn")),l.append(o.buildSubBtn("tableDeleteRow")),l.append(o.buildSubBtn("tableDeleteColumn")),l.append(o.buildSubBtn("tableDestroy"));else{var i=e("<table/>");e("<tbody/>").appendTo(i);for(var s=0;s<o.o.plugins.table.rows;s+=1)for(var d=e("<tr/>").appendTo(i),c=0;c<o.o.plugins.table.columns;c+=1)e("<td/>").appendTo(d);i.find("td").on("mouseover",a),i.find("td").on("mousedown",r),l.append(i),l.append(e('<div class="trumbowyg-table-size">1x1</div>'))}o.dropdown("table")}},a=function(t){var o=e(t.target).closest("table"),n=this.cellIndex,a=this.parentNode.rowIndex;o.find("td").removeClass("active");for(var r=0;r<=a;r+=1)for(var l=0;l<=n;l+=1)o.find("tr:nth-of-type("+(r+1)+")").find("td:nth-of-type("+(l+1)+")").addClass("active");o.next(".trumbowyg-table-size").html(n+1+"x"+(a+1))},r=function(){o.saveRange();var t=e("<table/>");e("<tbody/>").appendTo(t),o.o.plugins.table.styler&&t.attr("class",o.o.plugins.table.styler);for(var n=this.cellIndex,a=this.parentNode.rowIndex,r=0;r<=a;r+=1)for(var l=e("<tr></tr>").appendTo(t),i=0;i<=n;i+=1)e("<td/>").appendTo(l);o.range.deleteContents(),o.range.insertNode(t[0]),o.$c.trigger("tbwchange")},l={title:o.lang.tableAddRow,text:o.lang.tableAddRow,ico:"row-below",fn:function(){o.saveRange();var t=o.doc.getSelection().focusNode,n=e(t).closest("tr"),a=e(t).closest("table");if(a.length>0){for(var r=e("<tr/>"),l=0;l<a.find("tr")[0].childElementCount;l+=1)e("<td/>").appendTo(r);n.after(r)}o.syncCode()}},i={title:o.lang.tableAddRowAbove,text:o.lang.tableAddRowAbove,ico:"row-above",fn:function(){o.saveRange();var t=o.doc.getSelection().focusNode,n=e(t).closest("tr"),a=e(t).closest("table");if(a.length>0){for(var r=e("<tr/>"),l=0;l<a.find("tr")[0].childElementCount;l+=1)e("<td/>").appendTo(r);n.before(r)}o.syncCode()}},s={title:o.lang.tableAddColumn,text:o.lang.tableAddColumn,ico:"col-right",fn:function(){o.saveRange();var t=o.doc.getSelection().focusNode,n=e(t).closest("td"),a=e(t).closest("table"),r=n.index();a.length>0&&e(a).find("tr").each((function(){e(e(this).children()[r]).after("<td></td>")})),o.syncCode()}},d={title:o.lang.tableAddColumnLeft,text:o.lang.tableAddColumnLeft,ico:"col-left",fn:function(){o.saveRange();var t=o.doc.getSelection().focusNode,n=e(t).closest("td"),a=e(t).closest("table"),r=n.index();a.length>0&&e(a).find("tr").each((function(){e(e(this).children()[r]).before("<td></td>")})),o.syncCode()}},c={title:o.lang.tableDestroy,text:o.lang.tableDestroy,ico:"table-delete",fn:function(){o.saveRange();var t=o.doc.getSelection().focusNode;e(t).closest("table").remove(),o.syncCode()}},u={title:o.lang.tableDeleteRow,text:o.lang.tableDeleteRow,ico:"row-delete",fn:function(){o.saveRange();var t=o.doc.getSelection().focusNode;e(t).closest("tr").remove(),o.syncCode()}},f={title:o.lang.tableDeleteColumn,text:o.lang.tableDeleteColumn,ico:"col-delete",fn:function(){o.saveRange();var t=o.doc.getSelection().focusNode,n=e(t).closest("table"),a=e(t).closest("td").index();e(n).find("tr").each((function(){e(this).find("td:eq("+a+")").remove()})),o.syncCode()}};o.addBtnDef("table",n),o.addBtnDef("tableAddRowAbove",i),o.addBtnDef("tableAddRow",l),o.addBtnDef("tableAddColumnLeft",d),o.addBtnDef("tableAddColumn",s),o.addBtnDef("tableDeleteRow",u),o.addBtnDef("tableDeleteColumn",f),o.addBtnDef("tableDestroy",c)}}}})}(jQuery)},function(e,t){!function(e){"use strict";var t={enabled:!0,endpoints:["https://noembed.com/embed?nowrap=on","https://api.maxmade.nl/url2iframe/embed"]};e.extend(!0,e.trumbowyg,{plugins:{pasteEmbed:{init:function(o){o.o.plugins.pasteEmbed=e.extend(!0,{},t,o.o.plugins.pasteEmbed||{}),o.o.plugins.pasteEmbed.enabled&&o.pasteHandlers.push((function(t){try{var n=(t.originalEvent||t).clipboardData.getData("Text"),a=o.o.plugins.pasteEmbed.endpoints,r=null;if(n.startsWith("http")){t.stopPropagation(),t.preventDefault();var l={url:n.trim()},i="",s=0;r&&r.transport&&r.transport.abort(),r=e.ajax({crossOrigin:!0,url:a[s],type:"GET",data:l,cache:!1,dataType:"jsonp",success:function(e){e.html?(s=0,i=e.html):s+=1},error:function(){s+=1},complete:function(){0===i.length&&s<a.length-1&&(this.url=a[s],this.data=l,e.ajax(this)),s===a.length-1&&(i=e("<a>",{href:n,text:n}).prop("outerHTML")),i.length>0&&(s=0,o.execCmd("insertHTML",i))}})}}catch(e){}}))}}}})}(jQuery)},function(e,t){!function(e){"use strict";e.extend(!0,e.trumbowyg,{langs:{en:{swfilemanager:"SW File Manager"},ja:{swfilemanager:"ファイル管理"}},plugins:{swfilemanager:{init:function(t){if("function"==typeof SwFileManager){var o={ico:"swfilemanager",fn:function(){return(new SwFileManager).exec((function(o){var n=e('<img src="'+o.url+'">')[0];t.$ed.focus();try{t.saveRange();var a=t.doc.getSelection();t.range=a.getRangeAt(0),t.range.insertNode(n),t.syncCode(),t.$c.trigger("tbwchange")}catch(e){console.log("[ERROR]",e)}})),!0}};return t.addBtnDef("swfilemanager",o),!0}}}}})}(jQuery)}]);